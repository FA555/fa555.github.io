<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="2020 May Records"><meta name="keywords" content=""><meta name="author" content="fa_555"><meta name="copyright" content="fa_555"><title>2020 May Records | fa_555's Blog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  }
} </script><meta name="generator" content="Hexo 7.3.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#TJOI2013-%E6%9D%BE%E9%BC%A0%E8%81%9A%E4%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">[TJOI2013]松鼠聚会</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#problem"><span class="toc-number">2.</span> <span class="toc-text">problem</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#solution"><span class="toc-number">3.</span> <span class="toc-text">solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HNOI2010-%E5%BC%B9%E9%A3%9E%E7%BB%B5%E7%BE%8A"><span class="toc-number">4.</span> <span class="toc-text">[HNOI2010]弹飞绵羊</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-1"><span class="toc-number">4.1.</span> <span class="toc-text">solution</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code"><span class="toc-number">4.2.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%99%E4%B8%BB%E7%9A%84%E9%AD%94%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text">教主的魔法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dynamic-Rankings"><span class="toc-number">6.</span> <span class="toc-text">Dynamic Rankings</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#code-1"><span class="toc-number">6.1.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CF1433N-Monopole-Magnet"><span class="toc-number">7.</span> <span class="toc-text">CF1433N Monopole Magnet</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#problem-1"><span class="toc-number">7.1.</span> <span class="toc-text">problem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-2"><span class="toc-number">7.2.</span> <span class="toc-text">solution</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code-2"><span class="toc-number">7.3.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CF1344D-Resume-Review"><span class="toc-number">8.</span> <span class="toc-text">CF1344D Résumé Review</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#problem-2"><span class="toc-number">8.1.</span> <span class="toc-text">problem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-3"><span class="toc-number">8.2.</span> <span class="toc-text">solution</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code-3"><span class="toc-number">8.3.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95-KMP-%E7%AE%97%E6%B3%95%EF%BC%88Z-%E7%AE%97%E6%B3%95%EF%BC%89"><span class="toc-number">9.</span> <span class="toc-text">扩展 KMP 算法（Z 算法）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E8%88%AC%E5%9B%BE%E6%9C%80%E5%A4%A7%E5%8C%B9%E9%85%8D%EF%BC%88%E5%B8%A6%E8%8A%B1%E6%A0%91%E7%AE%97%E6%B3%95%EF%BC%89"><span class="toc-number">10.</span> <span class="toc-text">一般图最大匹配（带花树算法）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-by-Fuyuki"><span class="toc-number">10.1.</span> <span class="toc-text">solution by Fuyuki</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code-4"><span class="toc-number">10.2.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WC2016-%E6%8C%91%E6%88%98NPC"><span class="toc-number">11.</span> <span class="toc-text">[WC2016]挑战NPC</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#problem-3"><span class="toc-number">11.1.</span> <span class="toc-text">problem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-4"><span class="toc-number">11.2.</span> <span class="toc-text">solution</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code-5"><span class="toc-number">11.3.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PKUWC2018-Slay-the-Spire"><span class="toc-number">12.</span> <span class="toc-text">[PKUWC2018]Slay the Spire</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#problem-4"><span class="toc-number">12.1.</span> <span class="toc-text">problem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-%E8%BD%AC%E5%8C%96"><span class="toc-number">12.2.</span> <span class="toc-text">solution - 转化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-%E9%A2%84%E5%A4%84%E7%90%86"><span class="toc-number">12.3.</span> <span class="toc-text">solution - 预处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-%E7%BB%9F%E8%AE%A1%E7%AD%94%E6%A1%88"><span class="toc-number">12.4.</span> <span class="toc-text">solution - 统计答案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code-6"><span class="toc-number">12.5.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GSS5-Can-you-answer-these-queries-V"><span class="toc-number">13.</span> <span class="toc-text">GSS5 - Can you answer these queries V</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#problem-5"><span class="toc-number">13.1.</span> <span class="toc-text">problem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-5"><span class="toc-number">13.2.</span> <span class="toc-text">solution</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code-7"><span class="toc-number">13.3.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%8E%E8%B6%85%E6%A0%91"><span class="toc-number">14.</span> <span class="toc-text">李超树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CEOI2017-Building-Bridges"><span class="toc-number">15.</span> <span class="toc-text">[CEOI2017]Building Bridges</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-6"><span class="toc-number">15.1.</span> <span class="toc-text">solution</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code-8"><span class="toc-number">15.2.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E8%AF%97"><span class="toc-number">16.</span> <span class="toc-text">作诗</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#problem-6"><span class="toc-number">16.1.</span> <span class="toc-text">problem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-7"><span class="toc-number">16.2.</span> <span class="toc-text">solution</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code-9"><span class="toc-number">16.3.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LCT"><span class="toc-number">17.</span> <span class="toc-text">LCT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BD%E5%AE%B6%E9%9B%86%E8%AE%AD%E9%98%9F-Tree-II"><span class="toc-number">18.</span> <span class="toc-text">[国家集训队]Tree II</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#code-10"><span class="toc-number">18.1.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SDOI2011-%E6%9F%93%E8%89%B2"><span class="toc-number">19.</span> <span class="toc-text">[SDOI2011]染色</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#problem-7"><span class="toc-number">19.1.</span> <span class="toc-text">problem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#solution-8"><span class="toc-number">19.2.</span> <span class="toc-text">solution</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code-11"><span class="toc-number">19.3.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A5%B6%E7%89%9B%E6%B5%B4%E5%9C%BA-%E7%90%83%E5%9C%BA-Cricket-Field"><span class="toc-number">20.</span> <span class="toc-text">奶牛浴场 &#x2F; 球场 Cricket Field</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#code-12"><span class="toc-number">20.1.</span> <span class="toc-text">code</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars.githubusercontent.com/u/29965600"></div><div class="author-info__name text-center">fa_555</div><div class="author-info__description text-center">夢の続きを知りたいのかい？</div><div class="follow-button"><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/user/111890">Luogu</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">31</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">18</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">8</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://github.com/FA555">Github</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://codeforces.com/profile/fa_555">Codeforces</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/files/topimg/johannes-plenio-E-Zuyev2XWo-unsplash.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">fa_555's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a><a class="site-page" href="/">文章</a><a class="site-page" href="/archives">归档</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/about">关于</a><a class="site-page" href="/links">友链</a></span></div><div id="post-info"><div id="post-title">2020 May Records</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-05-06</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%8A%A8%E6%80%81/">动态</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">3.4k</span><span class="post-meta__separator">|</span><span>阅读时长: 13 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>菜鸡 fa_555 会把一些动态简要地记在这里。主要还是留给自己以后看的。</p>
<span id="more"></span>
<p><em>所有代码不保证包括无关紧要的部分</em></p>
<hr>
<h3 id="TJOI2013-松鼠聚会"><a href="#TJOI2013-松鼠聚会" class="headerlink" title="[TJOI2013]松鼠聚会"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3964">[TJOI2013]松鼠聚会</a></h3><h3 id="problem"><a href="#problem" class="headerlink" title="problem"></a>problem</h3><p>给定平面上的 $n \ (0 \le n \le 10^5)$ 个点 $(x, y) \ (-10^9 \le x, y \le 10^9)$，选出一个点使得其他所有点到这个点的<strong>切比雪夫距离</strong>之和最小，求出这个最小值。</p>
<h3 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h3><p>有结论：</p>
<ul>
<li>将所有点 $(x,y)$ 修改为 $(x + y, x − y)$ 后，原坐标系中的曼哈顿距离等于新坐标系中的切比雪夫距离；</li>
<li>将所有点 $(x,y)$ 修改为 $(\frac{x + y}2, \frac{x - y}2)$ 后，原坐标系中的切比雪夫距离等于新坐标系中的曼哈顿距离。</li>
</ul>
<p>于是可以推式子。假设已经将所有点转化为曼哈顿坐标系中的点，且已按照 $x$ 坐标升序排序，对于一个点 $(x_i, y_i)$，有</p>
<script type="math/tex; mode=display">
\begin{align}
\sum_{j = 1}^n{|x_i - x_j|} &= \sum_{j = 1}^i{(x_i - x_j)} + \sum_{j = i + 1}^n{(x_j - x_i)} \\
&= i x_i - \sum_{j = 1}^i{x_j} + \sum_{j = i + 1}^n{x_j} - (n - i) x_i \\
&= (2i - n) x_i + S_n - 2 S_i
\end{align}</script><p>其中 $S_i = \sum_{j = 1}^i{x_i}$。$y$ 坐标同理。</p>
<p>这玩意排序之后 $O(n)$ 整就行了，总复杂度是 $O(n \log n)$ 的。</p>
<hr>
<h3 id="HNOI2010-弹飞绵羊"><a href="#HNOI2010-弹飞绵羊" class="headerlink" title="[HNOI2010]弹飞绵羊"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3203">[HNOI2010]弹飞绵羊</a></h3><h4 id="solution-1"><a href="#solution-1" class="headerlink" title="solution"></a>solution</h4><p>考虑暴力，维护每个位置弹到哪个位置、需要几步弹飞。这样做修改是 $O(n)$ 的，查询是 $O(1)$ 的。我们要想办法平衡两者的复杂度。</p>
<p>考虑分块，对于每个位置维护弹到块外的哪个位置、需要几步弹出块。这样修改和查询都是 $O(\sqrt n)$ 的，总复杂度 $O(n \sqrt n)$。</p>
<h4 id="code"><a href="#code" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3203">code</a></h4><hr>
<h3 id="教主的魔法"><a href="#教主的魔法" class="headerlink" title="教主的魔法"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2801">教主的魔法</a></h3><p>区间带修求排名，参见数列分块入门 2。</p>
<hr>
<h3 id="Dynamic-Rankings"><a href="#Dynamic-Rankings" class="headerlink" title="Dynamic Rankings"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2617">Dynamic Rankings</a></h3><p>区间带修求第 k 小模板题。</p>
<p>区间可以看作 $\log$ 棵线段树和 $\log$ 棵线段树作差。可以通过树状数组套主席树实现。空间 $O(n \log^2 n)$，时间 $O(n \log n)$。</p>
<h4 id="code-1"><a href="#code-1" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33443620">code</a></h4><hr>
<h3 id="CF1433N-Monopole-Magnet"><a href="#CF1433N-Monopole-Magnet" class="headerlink" title="CF1433N Monopole Magnet"></a><a target="_blank" rel="noopener" href="http://codeforces.com/problemset/problem/1344/B">CF1433N Monopole Magnet</a></h3><h4 id="problem-1"><a href="#problem-1" class="headerlink" title="problem"></a>problem</h4><p>给定一个 $n$ 行 $m$ 列 $(1 \le n, m \le 1000)$ 的棋盘，其中每个格子被染成了黑色或白色。你需要在棋盘格子里放置一些单极磁铁。每个格子可以放任意多个磁铁。</p>
<p>定义单极磁铁的吸引：任选一对 N 磁铁和 S 磁铁，如果它们处在同一行或同一列中且不处在同一格中，则 N 磁铁向 S 磁铁的方向靠近 1 格。</p>
<p>磁铁的放置需要满足以下要求：</p>
<ul>
<li><p>每行每列都至少要有一个 S 磁铁。</p>
</li>
<li><p>对于每个黑色格子，必须有 N 磁铁经过若干次吸引操作后<strong>能够</strong>到达该格。</p>
</li>
<li><p>对于每个白色格子，必须有 N 磁铁经过任意次吸引操作后<strong>不能</strong>到达该格。</p>
</li>
</ul>
<p>求最少的 N 磁铁的个数或判断无合法方案。</p>
<h4 id="solution-2"><a href="#solution-2" class="headerlink" title="solution"></a>solution</h4><p>考虑黑色格子直接放满 S 磁铁，随便一想发现有解的情况就是求连通块个数，重点在于判断有无合法解。</p>
<p>再一想发现有且仅有这两种情况无解：</p>
<ul>
<li>同一行或同一列的两个黑色格子中间有白色格子。</li>
<li>某行没有黑色格子<strong>异或</strong>某列没有黑色格子。如果有行和列都没有黑色格子，那么 S 磁铁可以放在它们的交点处。</li>
</ul>
<p><del>（情况 1 限制 23）和（情况 2 限制 1）感觉就是两道题强行拼起来的</del></p>
<h4 id="code-2"><a href="#code-2" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33468115">code</a></h4><hr>
<h3 id="CF1344D-Resume-Review"><a href="#CF1344D-Resume-Review" class="headerlink" title="CF1344D Résumé Review"></a><a target="_blank" rel="noopener" href="http://codeforces.com/problemset/problem/1344/D">CF1344D Résumé Review</a></h3><h4 id="problem-2"><a href="#problem-2" class="headerlink" title="problem"></a>problem</h4><p>给定一个长为 $n \ (1 \le n \le 10^5)$ 的序列 $a \ (1 \le a_i \le 10^9)$，构造序列 $b$ 满足</p>
<ul>
<li>$\forall 1 \le i \le n, \ 0 \le b_i \le a_i$</li>
<li>$\sum_{i = 1}^n{b_i} = k$</li>
</ul>
<p>并最大化 $\sum_{i = 1}^n{b_i (a_i - b_i^2)}$。输出任意一组解。</p>
<h4 id="solution-3"><a href="#solution-3" class="headerlink" title="solution"></a>solution</h4><p>这里大部分抄了 CF 官方题解。</p>
<p>如果我们对于某个 $b_i$ 从 $x - 1$ 自增到 $x$，那么总价值将会变化</p>
<script type="math/tex; mode=display">
\Delta_i(x) = x (a_i - x^2) - (x - 1)(a_i - (x - 1)^2) = a_i - 3x^2 + 3x - 1</script><p>这个函数在 $x \ge 1$ 时单调减。</p>
<p>如果初始时令 $b_i = 0$，贪心地增加当前最佳的 $b_i$，那么就能获得最优解，然而至少 $O(k \log n)$ 的复杂度是我们所不能接受的。</p>
<p>我们可以二分某个 $A$，使得使得 $\Delta_i(x_i) \ge A$ 的 $\sum{x_i}$ 恰好等于 $k$。<code>check</code> 时求 $x_i$ 可以通过求根公式或另一次二分答案得到。总复杂度是 $O(n \log k)$ 或 $O(n \log^2 k)$ 的。</p>
<h4 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33898144">洛谷</a> / <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1344/submission/81432655">Codeforces</a></p>
<hr>
<h3 id="扩展-KMP-算法（Z-算法）"><a href="#扩展-KMP-算法（Z-算法）" class="headerlink" title="扩展 KMP 算法（Z 算法）"></a>扩展 KMP 算法（Z 算法）</h3><p>咕咕咕</p>
<hr>
<h3 id="一般图最大匹配（带花树算法）"><a href="#一般图最大匹配（带花树算法）" class="headerlink" title="一般图最大匹配（带花树算法）"></a>一般图最大匹配（带花树算法）</h3><h4 id="solution-by-Fuyuki"><a href="#solution-by-Fuyuki" class="headerlink" title="solution by Fuyuki"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/blog/_post/215158">solution by Fuyuki</a></h4><p>我完全无法复述得更好了。</p>
<h4 id="code-4"><a href="#code-4" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33540939">code</a></h4><p><strong>洛谷板题数据非常水，一定要去 UOJ 测，一定要去 UOJ 测，一定要去 UOJ 测</strong></p>
<hr>
<h3 id="WC2016-挑战NPC"><a href="#WC2016-挑战NPC" class="headerlink" title="[WC2016]挑战NPC"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4258">[WC2016]挑战NPC</a></h3><p>一般图最大匹配的应用不多，只找到了这一个题。</p>
<h4 id="problem-3"><a href="#problem-3" class="headerlink" title="problem"></a>problem</h4><p>有 $n \ (1 \le n \le 3m)$ 个球和 $m \ (1 \le m \le 100)$ 个筐子，每个筐子最多可以装三个球。有 $e \ (1 \le e \le nm)$ 个条件，条件 $(u, v)$ 表示编号为 $v$ 的球可以放进编号为 $u$ 的筐子中。</p>
<p>每个球都必须放进一个筐子中，称放有不超过 $1$ 个球的筐子为半空的。求半空的筐子最多有多少个，并输出一个最优方案。</p>
<h4 id="solution-4"><a href="#solution-4" class="headerlink" title="solution"></a>solution</h4><p>这题的思路非常妙。建图方式是这样的：对每个篮子拆成 $3$ 个点，在这 $3$ 个点之间两两连边，在对 $e$ 个条件连 $3e$ 条边。为什么这样是对的？</p>
<p>分别考虑每个篮子放入 $0, 1, 2, 3$ 个球的情况。这时它们对答案的贡献分别是 $1, 2, 2, 3$，而我们希望它们的贡献分别是 $1, 1, 0, 0$。作差得到 $0, 1, 2, 3$，因此这样统计到的贡献减去球的个数就是正确答案！</p>
<p>注意一个问题，最终的匹配中要优先匹配球再匹配筐，否则会输出错误的方案。<del>因为这个卡了一晚</del></p>
<h4 id="code-5"><a href="#code-5" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33544050">code</a></h4><hr>
<h3 id="PKUWC2018-Slay-the-Spire"><a href="#PKUWC2018-Slay-the-Spire" class="headerlink" title="[PKUWC2018]Slay the Spire"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P5299">[PKUWC2018]Slay the Spire</a></h3><p>由于 fa_555 非常喜欢玩 Slay the Spire，他跑来写（抄）了这题。但是这题和游戏一点关系也没有。</p>
<h4 id="problem-4"><a href="#problem-4" class="headerlink" title="problem"></a>problem</h4><p>有 $n$ 张强化牌 $a_i$ 和 $n$ 张攻击牌 $b_i$，每张牌有一个 $[1, 10^8]$ 之间的权值，每张强化牌能使所有攻击牌的权值乘上这张强化牌的权值。</p>
<p>任意摸 $m$ 张牌，以最优策略出 $k$ 张牌，求造成伤害的期望乘以 $\binom {2n}m$。答案模 $998244353$。</p>
<h4 id="solution-转化"><a href="#solution-转化" class="headerlink" title="solution - 转化"></a>solution - 转化</h4><p>首先发现要求的这个东西其实就是所有情况下造成的伤害总和。</p>
<p>考虑如果现在已经选定了 $m$ 张牌，最优策略是什么？</p>
<ul>
<li>如果已经确定用 $x$ 张强化牌和 $y$ 张攻击牌，那么肯定是先用权值最大的 $x$ 张强化牌，再用权值最大的 $y$ 张攻击牌。</li>
<li>在保证至少出一张攻击牌的情况下，尽量多出强化牌一定不会使答案更劣。<ul>
<li>这个不必严谨地推式子，只要考虑强化牌至少能使权值最大的攻击牌的权值翻倍，不劣于选其他任何攻击牌即可。</li>
</ul>
</li>
</ul>
<h4 id="solution-预处理"><a href="#solution-预处理" class="headerlink" title="solution - 预处理"></a>solution - 预处理</h4><p>设 $f_{i, j, 0}$ 表示前 $i$ 张强化牌中选择 $j$ 张且第 $i$ 张被选中的<strong>所有情况</strong>下这 $j$ 张牌的乘积<strong>之和</strong>；$g_{i, j, 0}$ 表示前 $i$ 张攻击牌中选择 $j$ 张且第 $i$ 张被选中的<strong>所有情况</strong>下这 $j$ 张牌的和<strong>之和</strong>。同时设 $f_{i, j, 1} = \sum_{k = j}^i{f_{k, j, 0}}, \ g_{i, j, 1} = \sum_{k = j}^i{g_{k, j, 0}}$，那么可得</p>
<script type="math/tex; mode=display">
\begin{align}
f_{i, j, 0} &= a_i \cdot f_{i - 1, j - 1, 1} \\
f_{i, j, 1} &= f_{i, j, 0} + f_{i - 1, j, 1} \\
g_{i, j, 0} &= b_i \cdot \binom{i - 1}{j - 1} + g_{i - 1, j - 1, 1} \\
g_{i, j, 1} &= g_{i, j, 0} + g_{i - 1, j, 1}
\end{align}</script><h4 id="solution-统计答案"><a href="#solution-统计答案" class="headerlink" title="solution - 统计答案"></a>solution - 统计答案</h4><p>分两种情况：</p>
<p><strong>其一，$m$ 张牌中强化牌的数量小于 $k - 1$</strong></p>
<p>此时必然是出所有强化牌，然后出权值最大的一些攻击牌。</p>
<p>枚举强化牌有 $i$ 张、选中的最后一张攻击牌是第 $j$ 张。</p>
<p>如果要保证最优方案是这 $k$ 张牌，剩下的 $m - k$ 张牌还需要满足<strong>全部都是攻击牌，并且都在第 $j$ 张之后</strong>。</p>
<p>此时对答案的贡献为 $f_{n, i, 1} \cdot g_{j, k - i, 0} \cdot \binom{n - j}{m - k}$。</p>
<p><strong>其二，$m$ 张牌中强化牌的数量大于等于 $k - 1$</strong></p>
<p>此时必然是出权值最大的 $k - 1$ 张强化牌，然后出权值最大的一张攻击牌。</p>
<p>枚举选中的最后一张强化牌是第 $i$ 张，选中的攻击牌是第 $j$ 张。</p>
<p>如果要保证最优方案是这 $k$ 张牌，剩下的 $m - k$ 张牌还需要满足<strong>所有强化牌都在第 $i$ 张之后，所有攻击牌都在第 $j$ 张之后</strong>。</p>
<p>此时对答案的贡献为 $f_{i, k - 1, 0} \cdot b_j \cdot \binom{2n - i - j}{m - k}$。</p>
<h4 id="code-6"><a href="#code-6" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33571988">code</a></h4><p>它被卡常了，并过不去。</p>
<hr>
<h3 id="GSS5-Can-you-answer-these-queries-V"><a href="#GSS5-Can-you-answer-these-queries-V" class="headerlink" title="GSS5 - Can you answer these queries V"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/SP2916">GSS5 - Can you answer these queries V</a></h3><h4 id="problem-5"><a href="#problem-5" class="headerlink" title="problem"></a>problem</h4><p>给定一个长为 $n$ 的序列 $a$，每次查询左端点在 $[l_1, r_1]$ 之间，右端点在 $[l_2, r_2]$ 之间的最大子段和。不保证两个区间不相交。</p>
<h4 id="solution-5"><a href="#solution-5" class="headerlink" title="solution"></a>solution</h4><p>首先考虑两个区间 $[l_1, r_1], [l_2, r_2]$ 不相交或只在端点处相交 $(r_1 \le l_2)$ 的情况，发现答案就是右边区间的最大前缀和减去左边区间的最小前缀和。记这个答案为 $f([l_1, r_1], [l_2, r_2])$。</p>
<p>那么对于相交 $(l_2 &lt; r_1)$ 的情况也就很容易讨论了：答案是 $[r1, l2]$ 的最大子段和、$f([l_1, r_1], [r_1, r_2])$、$f([l_1, l_2], [l_2, r_2])$ 三者取最大值。</p>
<h4 id="code-7"><a href="#code-7" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33581498">code</a></h4><p>只在端点相交的情况两种情况都可以讨论，代码放在了第二种情况里。</p>
<hr>
<h3 id="李超树"><a href="#李超树" class="headerlink" title="李超树"></a>李超树</h3><p><a target="_blank" rel="noopener" href="https://fa555.github.io/2020/Li-Chao-Tree/">学习笔记在这</a></p>
<hr>
<h3 id="CEOI2017-Building-Bridges"><a href="#CEOI2017-Building-Bridges" class="headerlink" title="[CEOI2017]Building Bridges"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4655">[CEOI2017]Building Bridges</a></h3><h4 id="solution-6"><a href="#solution-6" class="headerlink" title="solution"></a>solution</h4><p>设 $f_i$ 为将第 $1$ 根柱子和第 $i$ 根柱子相连的最小代价，令 $S_i = \sum_{j = 1}^i{w_j}$，则</p>
<script type="math/tex; mode=display">
\begin{align}
f_i &= \min_{j = 1}^{i - 1}{ \left \{ f_j + \sum_{k = j + 1}^{i - 1}{w_k} + (h_i - h_j)^2 \right \} } \\ 
&= \min_{j = 1}^{i - 1}{ \{ f_j + S_{i - 1} - S_j + h_i^2 - 2 h_i h_j + h_j^2 \} } \\
&= S_{i - 1} + h_i^2 + \min_{j = 1}^{i - 1}{ \{ f_j - S_j + h_j^2 - 2 h_i h_j \} }
\end{align}</script><p>令 $k = -2h_i, b = f_j - S_j + h_j^2$，则可以用李超树维护。</p>
<p>CDQ 分治少一个 $\log$ 但我不会，不过李超树小常数跑得好像更快（</p>
<h4 id="code-8"><a href="#code-8" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33691534">code</a></h4><hr>
<h3 id="作诗"><a href="#作诗" class="headerlink" title="作诗"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4135">作诗</a></h3><h4 id="problem-6"><a href="#problem-6" class="headerlink" title="problem"></a>problem</h4><p>给定长为 $n \ (1 \le n \le 10^5)$ 的序列 $a$ 和 $m \ (1 \le m \le 10^5)$ 次询问，每次询问 $a_{l \dots r}$ 中出现次数为正偶数的数字个数。</p>
<h4 id="solution-7"><a href="#solution-7" class="headerlink" title="solution"></a>solution</h4><p>长得跟蒲公英似的（？）</p>
<p>考虑分块，设 $s_{i, j}$ 表示第 $i$ 块开头到序列结尾数字 $j$ 的出现次数，$f_{i, j}$ 表示第 $i$ 块到第 $j$ 块的答案。</p>
<p>这样时间复杂度是 $O(n \sqrt n) - O(\sqrt n)$ 的；空间复杂度是 $O(n \sqrt n)$ 的。</p>
<h4 id="code-9"><a href="#code-9" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33731933">code</a></h4><hr>
<h3 id="LCT"><a href="#LCT" class="headerlink" title="LCT"></a>LCT</h3><p>学了学 LCT，也没啥好说的，放个板子吧。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> LCT &#123;</span><br><span class="line">  std::bitset&lt;100003&gt; rev;</span><br><span class="line">  <span class="keyword">int</span> z[<span class="number">100003</span>], s[<span class="number">100003</span>], fa[<span class="number">100003</span>], ch[<span class="number">100003</span>][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ch[fa[p]][<span class="number">1</span>] == p;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">notRt</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ch[fa[p]][<span class="number">0</span>] == p || ch[fa[p]][<span class="number">1</span>] == p;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">assign</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!p) <span class="keyword">return</span>;</span><br><span class="line">    std::<span class="built_in">swap</span>(ch[p][<span class="number">0</span>], ch[p][<span class="number">1</span>]);</span><br><span class="line">    rev.<span class="built_in">flip</span>(p);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    s[p] = s[ch[p][<span class="number">0</span>]] ^ s[ch[p][<span class="number">1</span>]] ^ z[p];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (rev[p]) <span class="built_in">assign</span>(ch[p][<span class="number">0</span>]), <span class="built_in">assign</span>(ch[p][<span class="number">1</span>]), rev.<span class="built_in">reset</span>(p);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">notRt</span>(p)) <span class="built_in">update</span>(fa[p]);</span><br><span class="line">    <span class="built_in">pushdown</span>(p);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> f = fa[p], g = fa[f], k = <span class="built_in">get</span>(p), r = ch[p][!k];</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">notRt</span>(f)) ch[g][<span class="built_in">get</span>(f)] = p;</span><br><span class="line">    ch[f][k] = r, ch[p][!k] = f;</span><br><span class="line">    fa[r] = f, fa[f] = p, fa[p] = g;</span><br><span class="line">    <span class="built_in">pushup</span>(f), <span class="built_in">pushup</span>(p);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">splay</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">update</span>(p);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> f; <span class="built_in">notRt</span>(p); <span class="built_in">rotate</span>(p))</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">notRt</span>(f = fa[p])) <span class="built_in">rotate</span>(<span class="built_in">get</span>(f) != <span class="built_in">get</span>(p) ? p : f);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">access</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> q = <span class="number">0</span>; p; p = fa[q = p])</span><br><span class="line">      <span class="built_in">splay</span>(p), ch[p][<span class="number">1</span>] = q, <span class="built_in">pushup</span>(p);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">makeRt</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">access</span>(p), <span class="built_in">splay</span>(p), <span class="built_in">assign</span>(p);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">findRt</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">access</span>(p), <span class="built_in">splay</span>(p);</span><br><span class="line">    <span class="keyword">while</span> (ch[p][<span class="number">0</span>]) <span class="built_in">pushdown</span>(p), p = ch[p][<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">splay</span>(p);</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">link</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">makeRt</span>(p);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">findRt</span>(q) != p) fa[p] = q;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">cut</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">makeRt</span>(p);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">findRt</span>(q) != p || ch[q][<span class="number">0</span>] || fa[q] != p) <span class="keyword">return</span>;</span><br><span class="line">    fa[q] = ch[p][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">pushup</span>(p);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">makeRt</span>(p), <span class="built_in">access</span>(q), <span class="built_in">splay</span>(q);</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="comment">// LCT</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>其中 <code>update(p)</code> 有非递归写法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> top, st[<span class="number">100003</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">  st[top = <span class="number">1</span>] = p;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">notRt</span>(p)) st[++top] = p = fa[p];</span><br><span class="line">  <span class="keyword">while</span> (top) <span class="built_in">pushdown</span>(st[top--]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="国家集训队-Tree-II"><a href="#国家集训队-Tree-II" class="headerlink" title="[国家集训队]Tree II"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1501">[国家集训队]Tree II</a></h3><p>第一道 LCT 的题目。涉及树上区间加、区间乘、区间和和连边断边。</p>
<p>需要在 Splay 上打区间加法和乘法标记，其他没啥区别。</p>
<h4 id="code-10"><a href="#code-10" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33831604">code</a></h4><hr>
<h3 id="SDOI2011-染色"><a href="#SDOI2011-染色" class="headerlink" title="[SDOI2011]染色"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2486">[SDOI2011]染色</a></h3><h4 id="problem-7"><a href="#problem-7" class="headerlink" title="problem"></a>problem</h4><p>$n \ (1 \le n \le 10^5)$ 个点的树，每个结点有一个颜色。$m \ (1 \le m \le 10^5)$ 次操作，每次修改一个结点的颜色或查询每条链上的颜色段数。 </p>
<h4 id="solution-8"><a href="#solution-8" class="headerlink" title="solution"></a>solution</h4><p>这题维护信息的方式比较怪异（</p>
<p>记录每个点代表的区间最左端的颜色 <code>lc</code>、最右端的颜色 <code>rc</code>、该点的颜色 <code>c</code> 和颜色分界点的个数 <code>s</code>。注意统计某点的答案时要先 <code>pushdown</code> 一下来更新儿子的信息。</p>
<p><code>assign</code> 的时候记得把两边儿子的最左端和最右端分别换一下。</p>
<h4 id="code-11"><a href="#code-11" class="headerlink" title="code"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33861957">code</a></h4><hr>
<h3 id="奶牛浴场-球场-Cricket-Field"><a href="#奶牛浴场-球场-Cricket-Field" class="headerlink" title="奶牛浴场 / 球场 Cricket Field"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1578">奶牛浴场</a> / <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/UVA1312">球场 Cricket Field</a></h3><p>最大子矩形 / 正方形的 $O(s^2)$ 版本，其中 $s$ 为障碍物数量。</p>
<h4 id="code-12"><a href="#code-12" class="headerlink" title="code"></a>code</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33896638">奶牛浴场</a> / <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/33925064">球场 Cricket Field</a></p>
<hr>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">fa_555</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://blog.fa555.tech/2020/2020-May-Records/">https://blog.fa555.tech/2020/2020-May-Records/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.fa555.tech">fa_555's Blog</a>！</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/Suffix-Array/"><i class="fa fa-chevron-left">  </i><span>后缀数组学习笔记</span></a></div><div class="next-post pull-right"><a href="/2020/cpp%E4%B8%8D%E5%AE%9A%E5%8F%82%E5%87%BD%E6%95%B0%E5%88%9D%E6%8E%A2/"><span>c++ 不定参函数初探</span><i class="fa fa-chevron-right"></i></a></div></nav><div class="post-adv"></div></div></div><footer class="footer-bg" style="background-image: url(/files/topimg/johannes-plenio-E-Zuyev2XWo-unsplash.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2024 By fa_555</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>